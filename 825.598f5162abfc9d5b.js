"use strict";(self.webpackChunk_2handCloth=self.webpackChunk_2handCloth||[]).push([[825],{9825:(I,f,n)=>{n.r(f),n.d(f,{InitialModule:()=>l});var e=n(4006),g=n(4385),b=n(3267),h=n(3683),u=n(9299),v=n(4466),o=n(4650);class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){1&t&&(o.TgZ(0,"p"),o._uU(1,"home works!"),o.qZA())}});var Z=n(2580),T=n(6664);class m{constructor(){this.menusInitial=Z.C.initial}}m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=o.Xpm({type:m,selectors:[["app-initial"]],decls:1,vars:2,consts:[[3,"MENUS","AUTHENTICATED"]],template:function(t,r){1&t&&o._UZ(0,"app-sidebar",0),2&t&&o.Q6J("MENUS",r.menusInitial)("AUTHENTICATED",!1)},dependencies:[T.k]});var p=n(3548);class d{constructor(t,r,a,x){this.formBuilder=t,this.router=r,this.http=a,this.route=x}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[e.kI.required,e.kI.email]],password:["",[e.kI.required,e.kI.minLength(8)]]})}ngOnDestroy(){this.observable&&this.observable.unsubscribe()}onSubmit(){const t=this.loginForm.get("email")?.value,r=this.loginForm.get("password")?.value;t&&r?this.observable=this.http.login({email:t,password:r}).subscribe(a=>{a.token?(console.log("Login bem-sucedido"),localStorage.setItem("currentUser",JSON.stringify({email:t,token:a.token})),this.router.navigate(["/lounge/user"])):console.log("Falha no login")}):console.log("Dados de login inv\xe1lidos")}}d.\u0275fac=function(t){return new(t||d)(o.Y36(e.qu),o.Y36(u.F0),o.Y36(p.O),o.Y36(u.gz))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-login"]],decls:26,vars:2,consts:[[1,"mask","d-flex","align-items-center","h-100","gradient-custom-3"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"text-uppercase","text-center","mb-5"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["type","email","id","form3Example3cg","formControlName","email",1,"form-control","form-control-lg"],["for","form3Example3cg",1,"form-label"],["type","password","id","form3Example4cg","formControlName","password",1,"form-control","form-control-lg"],["for","form3Example4cg",1,"form-label"],[1,"d-flex","justify-content-center"],["type","submit","type","submit",1,"btn","btn-success","btn-block","btn-lg","gradient-custom-4","text-body",3,"disabled"],[1,"text-center","text-muted","mt-5","mb-0"],["href","#!",1,"fw-bold","text-body"]],template:function(t,r){1&t&&(o.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h2",6),o._uU(8,"Create an account"),o.qZA(),o.TgZ(9,"form",7),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(10,"div",8),o._UZ(11,"input",9),o.TgZ(12,"label",10),o._uU(13,"Your Email"),o.qZA()(),o.TgZ(14,"div",8),o._UZ(15,"input",11),o.TgZ(16,"label",12),o._uU(17,"Password"),o.qZA()(),o.TgZ(18,"div",13)(19,"button",14),o._uU(20,"Login"),o.qZA()(),o.TgZ(21,"p",15),o._uU(22,"Have already an account? "),o.TgZ(23,"a",16)(24,"u"),o._uU(25,"Login here"),o.qZA()()()()()()()()()()()),2&t&&(o.xp6(9),o.Q6J("formGroup",r.loginForm),o.xp6(10),o.Q6J("disabled",!r.loginForm.valid))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u]});var y=n(9549),U=n(3238);class c{constructor(t,r,a){this.formBuilder=t,this.router=r,this.http=a}ngOnInit(){this.registrationForm=this.formBuilder.group({nome:["",[e.kI.required]],email:["",[e.kI.required,e.kI.email]],dataNascimento:["",[e.kI.required]],genero:["",[e.kI.required]],morada:["",[e.kI.required]],localidade:["",[e.kI.required]],codigoPostal:["",[e.kI.required]],telefone:["",[e.kI.required,e.kI.min(1e8),e.kI.max(999999999)]],password:["",[e.kI.required,e.kI.minLength(8)]],confirmPassword:["",e.kI.required]},{validator:this.passwordMatchValidator})}ngOnDestroy(){this.observable&&this.observable.unsubscribe()}passwordMatchValidator(t){return t.get("password").value===t.get("confirmPassword").value?null:{passwordMismatch:!0}}onSubmit(){if(this.registrationForm.valid){const t=this.registrationForm.get("email"),r=t.value.toLowerCase();t.patchValue(r),this.observable=this.http.register(this.registrationForm.value).subscribe(a=>{this.router.navigate(["/login"])},a=>{console.log(a)})}}}c.\u0275fac=function(t){return new(t||c)(o.Y36(e.qu),o.Y36(u.F0),o.Y36(p.O))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-register"]],decls:63,vars:5,consts:[[1,"mask","d-flex","align-items-center","h-100","gradient-custom-3"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"text-uppercase","text-center","mb-5"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["type","text","formControlName","nome","id","nome",1,"form-control","form-control-lg"],["for","nome",1,"form-label"],["type","email","formControlName","email","id","email",1,"form-control","form-control-lg"],["for","email",1,"form-label"],["type","date","formControlName","dataNascimento","id","dataNascimento",1,"form-control","form-control-lg"],["for","dataNascimento",1,"form-label"],["appearance","fill",1,"selector"],["formControlName","genero","name","genero"],[3,"value"],["type","text","formControlName","morada","id","morada",1,"form-control","form-control-lg"],["for","morada",1,"form-label"],["type","text","formControlName","localidade","id","localidade",1,"form-control","form-control-lg"],["for","localidade",1,"form-label"],["type","text","formControlName","codigoPostal","id","codigoPostal",1,"form-control","form-control-lg"],["for","codigoPostal",1,"form-label"],["type","tel","formControlName","telefone","id","telefone","pattern","[0-9]{9}",1,"form-control","form-control-lg"],["for","telefone",1,"form-label"],["type","password","formControlName","password","id","password",1,"form-control","form-control-lg"],["for","password",1,"form-label"],["type","password","formControlName","confirmPassword","id","confirmPassword",1,"form-control","form-control-lg"],["for","confirmPassword",1,"form-label"],[1,"d-flex","justify-content-center"],["type","submit","type","submit",1,"btn","btn-success","btn-block","btn-lg","gradient-custom-4","text-body",3,"disabled"],[1,"text-center","text-muted","mt-5","mb-0"],["href","#!",1,"fw-bold","text-body"]],template:function(t,r){1&t&&(o.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h2",6),o._uU(8,"Create an account"),o.qZA(),o.TgZ(9,"form",7),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(10,"div",8),o._UZ(11,"input",9),o.TgZ(12,"label",10),o._uU(13,"Your Name"),o.qZA()(),o.TgZ(14,"div",8),o._UZ(15,"input",11),o.TgZ(16,"label",12),o._uU(17,"Your Email"),o.qZA()(),o.TgZ(18,"div",8),o._UZ(19,"input",13),o.TgZ(20,"label",14),o._uU(21,"Sua data de nascimento"),o.qZA()(),o.TgZ(22,"mat-form-field",15)(23,"div")(24,"mat-select",16)(25,"mat-option",17),o._uU(26," Masculino "),o.qZA(),o.TgZ(27,"mat-option",17),o._uU(28," Feminino "),o.qZA(),o.TgZ(29,"mat-option",17),o._uU(30," Outro "),o.qZA()()()(),o.TgZ(31,"div",8),o._UZ(32,"input",18),o.TgZ(33,"label",19),o._uU(34,"Morada"),o.qZA()(),o.TgZ(35,"div",8),o._UZ(36,"input",20),o.TgZ(37,"label",21),o._uU(38,"Localidade"),o.qZA()(),o.TgZ(39,"div",8),o._UZ(40,"input",22),o.TgZ(41,"label",23),o._uU(42,"C\xf3digo Postal"),o.qZA()(),o.TgZ(43,"div",8),o._UZ(44,"input",24),o.TgZ(45,"label",25),o._uU(46,"Telefone"),o.qZA()(),o.TgZ(47,"div",8),o._UZ(48,"input",26),o.TgZ(49,"label",27),o._uU(50,"Password"),o.qZA()(),o.TgZ(51,"div",8),o._UZ(52,"input",28),o.TgZ(53,"label",29),o._uU(54,"Repeat your password"),o.qZA()(),o.TgZ(55,"div",30)(56,"button",31),o._uU(57," Register "),o.qZA()(),o.TgZ(58,"p",32),o._uU(59," Have already an account? "),o.TgZ(60,"a",33)(61,"u"),o._uU(62,"Login here"),o.qZA()()()()()()()()()()()),2&t&&(o.xp6(9),o.Q6J("formGroup",r.registrationForm),o.xp6(16),o.Q6J("value","M"),o.xp6(2),o.Q6J("value","F"),o.xp6(2),o.Q6J("value","Outro"),o.xp6(27),o.Q6J("disabled",!r.registrationForm.valid))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.c5,e.sg,e.u,y.KE,g.gD,U.ey],styles:[".selector[_ngcontent-%COMP%]{width:100%}"]});const C=[{path:"",component:m,children:[{path:"home",component:s},{path:"register",component:c},{path:"login",component:d},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[h.g0,b.SJ,u.Bz.forChild(C),v.m,e.UX,g.LD]})}}]);